{% set name = "radical.pilot" %}
{% set version = "1.103.2" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/{{ name|replace(".", "_") }}-{{ version }}.tar.gz
  sha256: 34c37ef7b772462cae8595025a7d83780c89db8c6edf5467b31704453a7d0381

build:
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
  number: 0

requirements:
  host:
    - python {{ python_min }}
    - setuptools
    - pip
  run:
    - python >={{ python_min }}
    # from requirements.txt
    - radical.utils >=1.100.0,<1.110
    - radical.gtod >=1.100.0,<1.110
    - psij-python
    - setproctitle
    - requests
    - cffi
    - dill
    - rc.process

test:
  imports:
    - radical.pilot
  commands:
    - pip check
  requires:
    - python {{ python_min }}
    - pip

about:
  home: https://github.com/radical-cybertools/radical.pilot
  license: MIT
  license_family: MIT
  license_file: LICENSE.md
  summary: RADICAL-Pilot is a pilot-based runtime system
  description: |
    RADICAL-Pilot (RP) is a flexible pilot-based system that provides a simple
    and scalable approach for executing many concurrent simulations and their
    data requirements on high performance computing (HPC) platforms. RP
    separates resource acquisition from using those resources to execute
    application tasks.
  dev_url: https://github.com/radical-cybertools/radical.pilot

extra:
  recipe-maintainers:
    - andre-merzky
    - mtitov
    - xylar
